# php基础概念7

某知名手机制造商PHP笔试

MVC 模型 的 基本 工作 原理 是 基于 观察者 模式， 实现 是 基于 命令 模式 

设计 模式 的 核心 原则 是“ 开- 闭” 原则， 即对 扩展 开放， 对 修改 关闭 

创立 型 模式 的 根本 意图 是要 把 对象 的 创建 和 使用 分离 的 责任 进行 分离， 从而 降低 系统 的 耦合 度

final只能修饰类和方法，不能修饰类的属性

能确保没有命令注入的是escapeshellcmd()函数和escapeshellarg()函数转义命令中的特殊字符或命令参数

输入服务器IP地址，计算机名称，直接输入127.0.0.1都可以访问站点默认文档

用任意一个流读取数据，用另一个ROT13编码的流写回，编码必须在用第二个流写回时进行，创建一个ROT13查询表，再一个字符一个字符的即使写入

gethostbynamel函数的作用是返回某个主机名的所有IP列表

byte为单位，1b=8bit，所以1Mbit/s的理论下载速度是1Mbit/s=1024kbit/s，所以1*1024/8bit/s=128kbit/s

debug_backtrace用于返回特定位置调用过的函数名组成的数组，经常被用于调试

抽象、继承、封装、多态

session在服务器是用一种散列表结构存放信息的

事务是作为一个单元的一组有序的数据库操作。

1． mysql_ fetch_ row() 和 mysql_ fetch_ array() 有 什么 区别? 

2． 详细 描述 PHP 处理 Web 上传 文件 的 流程。 如何 限制 上传 文件 的 大小 不能 超过 某个 数值? 

3． Memcache 对 item 的 过期 时间 有 什么 限制? 

4． 什么 是 函数 返回 值? 

5． 触发器 分为 事前 触发 和 事后 触发， 二者 有 什么 区别? 语句 级 触发 和 行 级 触发 有 什么 区别?

mysql_fetch_row整数索引数组，mysql_fetch_assoc关联数组索引，mysql_fetch_array同时送回row和assoc的值

浏览器选择上传的文件，提交后，post方式上传到apache服务器由php引擎处理，判断文件是否能上传到指定的临时目录，是否是临时格式，得到上传文件数值大小，没问题，随机数+时间生成文件名字+后缀，文件从临时目录转移到Apache服务器目录，也可以在php配置文件通过file_upload_max设置其值限制上传文件大小。

返回多个值可以通过返回数组retrun 数组;

返回引用

某知名问答平台PHP笔试

MyISAM表会把自增最大ID记录到数据文件中，重启Mysql自增最大ID记录也不会丢失，所以插入后的值为18。InnoDB表把自增逐渐的最大ID记录到内存中，重启Mysql或对表进行OPTIMIZE操作，都会导致最大ID丢失，所以插入后ID的值为15

17条记录，删除15,16,17几条记录，Myisam最大值为18，innodb最大值为15

用stream_get_meta_data函数，流API无法提供通过流传输了多少数据

序列 化 一个 对象 将会 保存 对象 的 所有 变量， 但是 不会 保存 对象 的 方法， 只会 保存 类 的 名字 

类 名 可以 是 任何 非 PHP 保留 字 的 合法 标签， 汉字 也可以 作为 PHP 的 类 名 

要 实现 一个 接口， 使用 implements 操作 符， 类 中 必须 实现 接口 中 定义 的 所有 方法， 否则 会 报 一个 致命 错误

PHP以CGI的形式运行在linux+apache系统的cgi-bin文件夹中，打开?/cgi-bin/php?/etc/passwd，什么都不会发生，cgi模式下的php将自动拒绝本次访问

mysql服务器默认端口是3306

linux文佳操作命令是ls,mkdir,cp,mv,find,pwd,vim,rm,touch,cd

分析： 1） ls 的 作用 是 查询 目录 的 内容， 格式 为 ls [选项][ 文件 或 目录]。 2） mkdir 的 作用 是 建立 目录， 格式 为 mkdir -p [目录 名]。 3） cp 的 作用 是 复制 文件 或 目录， 格式 为 cp[ 选项][ 原文 件 目录][ 目标 目录]。 4） mv 的 作用 是 文件 剪切、 改名， 格式 为 mv[ 原文 件 目录][ 目标 文件 目录]。5） find 的 作用 是 搜索 文件、 目录， 格式 为 mv[ 原文 件 目录][ 目标 文件 目录]。 6） pwd 的 作用 是 显示 当前 所在 工作 目录 的 全 路径， 格式 为 pwd [选项]。 7） vim 的 作用 是 编辑 文件， 格式 为 vim [文件] 进入 文件 或者 创建 文件（ 文件 不存在 的 情况下）。 8） rm 的 作用 是 删除 文件 或 目录， 格式 为 rm [文件]。 9） touch 的 作用 是 创建 文件 和 修改 文件， 格式 为 touch [选项][ 文件名 或者 目录 名]。 10） cd 的 作用 是 切换 目录， 格式 为 cd [目录]。

mysql中的锁可划分为表锁，行级锁

redis支持的数据类型有string字符串，list列表，set无序集合，zset有序集合，hash哈希表

memcached能接受key的最大长度为250个字符

1． 一、 二、 三、 四 范式 有何 区别? 2． 如果 数据库 日志 满了， 那么 会 出现 什么 情况? 3． 请 简要 描述 你对 Memcache 的 理解， 它的 优点 有 哪些? 4． 如何 预防 SQL 注入 攻击? 5． 抓取 远程 图
片 到 本地， 会用 到 什么 函数? 这些 函数 有 什么 作用?

日志文件记录所有对数据库数据的修改，主要是保护数据库以防止故障，以及恢复数据时使用。通过日志文件记录数据库事务可以最大限度的保证数据的一致性和安全性，但一旦数据库中日志满了，就只能执行查询操作，不能执行更改、备份操作，原因是任何写操作都要记录日志，也就是说，基本上处于不能使用的状态。

1） 预处理 语句 和 参数 分别 发送 到 数据库 服务器 进行 解析。 2） 使用 函数 addslashes() 转义 提交 的 内容。 3） PHP 配置文件 中 开启 magic_ quotes_ gpc= on; 将 自动 转换 用户 查询 的 SQL 语句， 对 防止 SQL 注入 有 重大 作用。 4） 在 PHP 配置文件 中， 将 register_ globals 设置 为 off， 关闭 全局 变量 注册。 5） 在 PHP 配置文件 中， 开启 安全 模式 safe_ mode= on;。 6） SQL 语句 的 书写 尽量 不要 省略 单 引号。 7） 提高 数据库 表 和 字段 的 命名 技巧， 对 一些 重要的 字段 根据 程序 的 特点 命名， 取 不易 被 猜到 的 名字。 8） 控制 错误 信息， 关闭 错误 信息 的 输出， 将 错误 信息 写到 日志 文件 中， 不 要在 网 站 暴露 错误 信息。

fsocketopen打开一个网络连接，通过这个网络连接打开图片地址，返回一个文件句柄，fread读取文件内容，fwrite函数把文佳内容写入到本地，实现了把远程图片抓取到本地的功能，最后使用fclose关闭这个连接
