# php基础概念5
PHP超文本预处理器，是开源免费的服务器脚本语言，PHP具有跨平台的特性，可以在windows,linux,mac os等平台上开发使用， PHP底层代码是由C语言编写的，在执行编译过程中代码执行速度快。

如果可以尽可能不要使用select *，保证锁在任何竞争条件下都安全的是mkdir

从队列数组队头删除数据用array_shift，explode，implode，/<script[^>]*?>.*?<\/script>/si

json转化为数组json_decode\

allow_call_time_pass_reference在函数调用时强制参数按引用传递，目前已不推荐使用

什么是虚拟内存？虚拟地址、逻辑地址、线性地址、物理地址有什么区别？接口、抽象类二者有什么相同和不同的地方？MVC的概念是什么？各层主要做什么工作？smarty的工作原理是什么？如何对smarty进行二次开发？

虚拟内存简存虚存，是计算机管理的一种技术，相对于物理内存而言的，假的内存，使得应用程序认为它拥有连续可用的内存（一个连续完整的地址空间）允许程序员编写比实际系统拥有的内存大的多的程序，这使得许多大型软件项目能在有限内存资源的系统上实现。1）扩大了地址空间，内存保护，公平分配内存，当进程需要通信时虚存共享的方式实现。虚存也是有代价的，虚存的管理需要建立很多数据结构，这些数据结构要占用额外的内存。虚拟地
址到物理规则的转换，增加了指令执行时间。页面的转入转出需要磁盘I/O，这是很耗时间的。如果一页中只有一部分数据，会浪费内存。

虚拟地址是指由程序产生的由段选择符和段内偏移地址组成的地址。这两部分组成的地址并没有直接访问物理内存，而是要通过分段地址的变换处理后才会对应到相应的物理内存地址。逻辑地址由程序产生的段内偏移地址，有时直接把逻辑地址当成虚拟地址，两者并没有明确的界限。线性地址是指虚拟地址到物理地址变换之间的中间层，是处理器可寻址的内存空间（称为线性地址空间）中的地址，程序 代码 会 产生 逻辑 地址， 或者说 是 段 中的 偏移 地址， 加上 相应 段 基址 就 生成 了 一个 线性 地址。 如果 启用 了 分页 机制， 那么 线性 地址 可以 再经 过 变换 产生 物理 地址。 若是 没有 采用 分页 机制， 那么 线性 地址 就是 物理 地址。 物理 地址 是指 现在 CPU 外部 地址 总 线上 的 寻址 物理 内存 的 地址 信号， 是 地址 变换 的 最终 结果。 虚拟 地址 到 物理 地址 的 转化 方法 是与 体系 结构 相关 的， 一般 有 分段 与 分页 两种 方式。 以 x86 CPU 为例， 分段、 分页 都是 支持 的。 内存 管理 单元 负责 从 虚拟 地址 到 物理 地址 的 转化。 逻辑 地址 是 段 标识+ 段 内 偏移量 的 形式， MMU 通过 查询 段 表， 可以 把 逻辑 地址 转化 为 线性 地址。 如果 CPU 没有 开启 分页 功能， 那么 线性 地址 就是 物理 地址； 如果 CPU 开启 了 分页 功能， MMU 还需 要 查询 页 表 来 将 线性 地址 转化 为 物理 地址， 即 逻辑 地址（ 段 表） → 线性 地址（ 页 表） → 物理 地址。 映射 是 一种 多对一 的 关系， 即 不同 的 逻辑 地址 可以 映射 到 同一个 线性 地址 上； 不同 的 线性 地址 也可以 映射 到 同一个 物理 地址 上。 而且， 同一个 线性 地址 在 发生 换页 以后， 也可 能被 重新 装载 到 另外 一个 物理 地址 上， 所以 这种 多对一 的 映射 关系 也会 随时 间 发生 变化。

接口是帮助PHP实现功能意义上的多继承，用interface来声明，其方法没有方法体，使用implements关键词来实现接口

接口中只能包含抽象方法和类常量，不可以包含成员属性

2） 抽象 类 是一 种 不能 被 实例 化 的 类， 只能 作 父 类，用 abstract 来 定义， 抽象 类 和 普通 类 可以 没有 区别， 类 中 可以 包含 成员 属性、 类 常量 和 方法。 子类 得用 extends 来 继承， 而且 只能 是 单 继承。 两者 的 相 同点 是 都不 可以 被 实例 化， 都是 需要 被 继承 才可 以 使用。 两者 的 最大 区别 是 接口 可以 实现 多 继承， 而 抽象 类 只能 是 单 继承。 接口 中 不能 包含 成员 属性， 而 抽象 类 中 可以 有成 员 属性。 接口 中的 抽象 方法 必须 是 public 或者 无 访问 修饰 词， 接口 中的 抽象 方法 不 能用 abstract 来 修饰。 抽象 类 中的 方法 可以 是 普通 方法， 也可以 是 抽象 方法， 如果 是 抽象 方法， 那么 一定 要 使用 abstract 来 修饰。

答案： MVC 是一 种 软件 设计 模式， 实现 了 前后 端 分离， 保证 前端 人员 和 后端 人员 各司其职。 MVC 分别 对应 的 是 模型 层、 视图 层 和 控制 层。 控制 层 从 模型 层 中 取 数据 操作， 然后 把 数据 放到 视图 层 显示。 用户 也可以 通过 视图 层 向 逻辑 层 反馈， 逻辑 层 处理 后 反馈 结果。 MVC 分别 指的 是： M 指的 是 模型 层（ Model）， 主 要向 数据库 进行 操作， 包括 增、 删、 改、 查 的 功能。 获取 数据库 数据 返回 给 逻辑 层。 V 指的 是 视图 层（ View）， 主要 用于 显示 逻辑 层 返回 的 数据 显示， 用户 主要 通过 视图 层 实现 前后 端 数据 交互。 C 指的 是 逻辑 层（ Controller）， 主要 负责 从 模型层 取 数据 和 分配 数据 到 模板 中， 并且 显示 模板 的 作用， 也可以 处理 视图 层 的 反馈 和 返回 结果。

5． 答案： 1） PHP 程序 运行时， 初始化 smarty 模版 引擎（ 创建 对象， 设置 属性）。 2） 加载 smarty 模板 文件（. html 或. tpl 文件）， 并对 其 编译， 生成 编译 文件 放置 在编 译 目录 下。 3） 执行 编译 文件， 并 做 模板 替换， 生成 静态 文件。 若 开启 静态 缓存， 则 会 将 静态 缓存 文件 缓存 到 cache 目录 下。 4） 最后 输出 结果 到 浏览器。 做 smarty 的 二次开发： 可以 通过 自定义 变量 调解 器、 函数 等 插件 方式 来 实现 辅助 开发， 还有 重写 smarty 的 一些 方法 可以 扩展 开发。